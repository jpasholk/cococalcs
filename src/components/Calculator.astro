---
import TabNav from './TabNav.astro';
import DimensionsCard from './DimensionsCard.astro';
import MixSelection from './MixSelection.astro';
import Results from './Results.astro';

// Define default soil mix ratios (moved from SoilCalculator.astro)
const defaultMixes = {
  basic: { coco: 70, perlite: 30 },
  advanced: { coco: 60, perlite: 20, vermiculite: 10, castings: 10 }
};
---

<div class="space-y-6">
  <TabNav />
  
  <div class="tab-content">
    <div id="garden-beds" role="tabpanel" aria-labelledby="tab-garden-beds">
      <form id="calculatorForm" class="space-y-6">
        <DimensionsCard title="Garden Bed Dimensions"/>
        <MixSelection />
        <Results />
      </form>
    </div>
    
    <div id="small-pots" class="hidden" role="tabpanel" aria-labelledby="tab-small-pots">
      <form id="smallPotsForm" class="space-y-6 relative">
        <div class="absolute inset-0 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm z-10 flex items-center justify-center">
          <div class="text-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg">
            <h2 class="text-xl font-semibold mb-2 text-gray-900 dark:text-gray-100">Coming Soon!</h2>
            <p class="text-gray-600 dark:text-gray-400">Small Pots calculator is under development.</p>
          </div>
        </div>
        <DimensionsCard title="Pot Dimensions"/>
        <MixSelection />
        <Results />
      </form>
    </div>
    
    <div id="seed-starting" class="hidden" role="tabpanel" aria-labelledby="tab-seed-starting">
      <form id="seedStartingForm" class="space-y-6 relative">
        <div class="absolute inset-0 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm z-10 flex items-center justify-center">
          <div class="text-center p-6 bg-white dark:bg-gray-800 rounded-lg shadow-lg">
            <h2 class="text-xl font-semibold mb-2 text-gray-900 dark:text-gray-100">Coming Soon!</h2>
            <p class="text-gray-600 dark:text-gray-400">Seed Starting calculator is under development.</p>
          </div>
        </div>
        <DimensionsCard title="Seed Tray Dimensions"/>
        <MixSelection />
        <Results />
      </form>
    </div>
  </div>
</div>

<script>
  import { initializeCalculator } from '../utils/calculator.js';
  import { initializeTabs } from '../utils/tabs.js';
  
  document.addEventListener('DOMContentLoaded', () => {
    initializeTabs();
    initializeCalculator();
  });
</script>